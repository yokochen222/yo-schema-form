<template>
  <div id="app">
    {{ values }}
    <yo-schema-form
      size="small"
      ref="form"
      label-width="150px"
      label-position="right"
      v-model="values"
      :schema="schemas"
    >
      <el-form-item>
        <el-button type="primary" @click="handleSubmit">Êèê‰∫§</el-button>
      </el-form-item>
    </yo-schema-form>
  </div>
</template>

<script>
export default {
  name: "App",
  data() {
    return {
      values: {
        ar: "23",
        name: "Âº†‰∏â",
        stacks: [{ id: 12, name: "PHP", state: "1" }],
      },
      schemas: {
        name: {
          type: "string",
          label: "ÂßìÂêç",
          rules: [{ required: true, message: "ÂßìÂêç‰∏çËÉΩ‰∏∫Á©∫" }],
          attrs: {
            placeholder: "ËØ∑ËæìÂÖ•ÂßìÂêçÔºå‰æãÔºöÂº†‰∏â",
          },
        },
        gender: {
          type: "boolean",
          label: "ÊÄßÂà´",
          attrs: {
            trueLabel: "Áî∑",
            falseLabel: "Â•≥",
            trueValue: 1,
            falseValue: 0,
          },
        },
        age: {
          type: "number",
          label: "Âπ¥ÈæÑ",
          rules: [
            { required: true, message: "ËØ∑ËæìÂÖ•Âπ¥ÈæÑ", type: "number" },
            { max: 35, message: "Á†ÅÂÜúÂπ¥ÈæÑ‰∏çËÉΩË∂ÖËøá35Â≤Å", type: "number" },
            { min: 18, message: "Á¶ÅÊ≠¢Èõá‰Ω£Á•ñÂõΩÁöÑËä±Êúµüå∫", type: "number" },
          ],
        },
        select: {
          label: "‰∏ãÊãâÈÄâÊ°Ü",
          type: "number",
          component: "YoSchemaSelect",
          attrs: {
            placeholder: "",
            options: [
              { label: "‰∏ãÊãâÈÄâÈ°π1", value: 0 },
              { label: "‰∏ãÊãâÈÄâÈ°π2", value: 1 },
            ],
          },
        },
        stacks: {
          type: "array",
          label: "ÊäÄÊúØÊ†à",
          attrs: {
            arrayMaxItems: 2,
          },
          items: {
            type: "object",
            label: "ÊäÄÊúØÊ†à",
            properties: {
              id: {
                type: "number",
                label: "ID",
              },
              name: {
                type: "string",
                label: "ÂêçÁß∞",
                rules: [{ required: true, message: "ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫" }],
              },
            },
          },
        },
      },
    };
  },
  methods: {
    handleSubmit() {
      this.$refs.form.validate((valid) => {
        console.log(valid);
        console.log(JSON.stringify(this.values, null, 4));
      });
    },
  },
};
</script>

<style lang="scss"></style>
